# Whisper Transcription Tool

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ —Å—Ç–µ—Ä–µ–æ-–∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –∫–∞–Ω–∞–ª—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ—á–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Å—Ç–µ—Ä–µ–æ-–∑–∞–ø–∏—Å–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –∏ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Å —É—á–µ—Ç–æ–º –≥–æ–≤–æ—Ä—è—â–∏—Ö.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ—Ä–µ–æ-–∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–≤–∞ –∫–∞–Ω–∞–ª–∞ (–ª–µ–≤—ã–π - –º–µ–Ω–µ–¥–∂–µ—Ä, –ø—Ä–∞–≤—ã–π - –∫–ª–∏–µ–Ω—Ç)
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∏ CSV —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- –£–¥–æ–±–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–∞–∑–µ Streamlit –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ, –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU (CUDA) –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- CLI-–≤–µ—Ä—Å–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –±–µ–∑ GUI
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+
- FFmpeg (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ)
- NVIDIA GPU —Å CUDA –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Git https://git-scm.com/downloads/

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/zsfreee/Trancribe-multichannel-Cuda.git
cd Trancribe-multichannel-Cuda
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ pip:
Windows
```bash
python.exe -m pip install --upgrade pip
```
Linux
```bash
pip install --upgrade pip
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU):
```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```
```bash
# –î–ª—è NVIDIA GPU:
pip install -r requirements.txt
```

### 4.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyTorch –ë–ï–ó –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞ CPU):
```bash
pip install torch==2.6.0+cpu torchvision==0.21.0+cpu torchaudio==2.6.0+cpu --index-url https://download.pytorch.org/whl/cpu
```
```bash
pip install -r requirements_cpu.txt
```
### –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã PyTorch
```bash
python -c "import torch; print('CUDA –¥–æ—Å—Ç—É–ø–µ–Ω:', torch.cuda.is_available()); print('–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:', torch.cuda.get_device_name(0) if torch.cuda.is_available() else 'CPU')"
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg:

**Windows:**
- –°–∫–∞—á–∞–π—Ç–µ FFmpeg —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –∏–ª–∏ —Å GitHub (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é —Å "shared" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏)
- –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã .exe –∏ .dll –∏–∑ –ø–∞–ø–∫–∏ bin –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Windows 64bit - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ bin ffmpeg:
```
avcodec-61.dll
avdevice-61.dll
avfilter-10.dll
avformat-61.dll
avutil-59.dll
postproc-58.dll
swresample-5.dll
swscale-8.dll
ffmpeg.exe
ffplay.exe
ffprobe.exe
```

**Linux:**
```bash
sudo apt-get update
sudo apt-get install ffmpeg
sudo apt install -y ffmpeg libavcodec-extra
```

**Mac:**
```bash
brew install ffmpeg
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GUI)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python whisper_app.py
```

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "–§–∞–π–ª—ã" –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É —Å –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–∞–ø–∫—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã" –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ Whisper –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
3. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ" –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é" –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤ –∂—É—Ä–Ω–∞–ª–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit)

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Streamlit-–≤–µ—Ä—Å–∏–∏:

##### –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPU):
```bash
pip install -r requirements_streamlit.txt
```

##### –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ CUDA (—Ç–æ–ª—å–∫–æ CPU):
```bash
pip install torch==2.6.0+cpu torchvision==0.21.0+cpu torchaudio==2.6.0+cpu --index-url https://download.pytorch.org/whl/cpu
pip install -r requirements_streamlit_cpu.txt
```

##### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ —É –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):
```bash
pip install -r streamlit_minimal.txt
```

#### –ó–∞–ø—É—Å–∫ Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
streamlit run streamlit_app.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8501

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
1. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "üìÅ –§–∞–π–ª—ã" –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
2. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã" –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ Whisper –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
3. –ù–∞ –≤–∫–ª–∞–¥–∫–µ "‚ñ∂Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ" –Ω–∞–∂–º–∏—Ç–µ "üöÄ –ù–∞—á–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é" –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫–∞—á–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ ZIP-–∞—Ä—Ö–∏–≤–∞

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã (CUDA/CPU):
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç—ã (CUDA GPU –∏–ª–∏ CPU) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**:
   ```bash
   # –î–ª—è GPU-–≤–µ—Ä—Å–∏–∏:
   pip install -r requirements_streamlit.txt
   
   # –î–ª—è CPU-–≤–µ—Ä—Å–∏–∏:
   pip install torch==2.6.0+cpu torchvision==0.21.0+cpu torchaudio==2.6.0+cpu --index-url https://download.pytorch.org/whl/cpu
   pip install -r requirements_streamlit_cpu.txt
   ```

2. **–ó–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –¥–æ—Å—Ç—É–ø–æ–º –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Å–µ—Ç–∏**:
   ```bash
   streamlit run streamlit_app.py --server.port 8501 --server.address 0.0.0.0
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ systemd**:
   
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:
   ```bash
   sudo nano /etc/systemd/system/whisper-streamlit.service
   ```
   
   –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
   ```
   [Unit]
   Description=Whisper Transcription Streamlit Server
   After=network.target

   [Service]
   User=ubuntu
   WorkingDirectory=/path/to/Trancribe-multichannel-Cuda
   ExecStart=/path/to/venv/bin/streamlit run streamlit_app.py --server.port 8501 --server.address 0.0.0.0
   Restart=on-failure

   [Install]
   WantedBy=multi-user.target
   ```
   
   –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫:
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable whisper-streamlit
   sudo systemctl start whisper-streamlit
   ```

### –ó–∞–ø—É—Å–∫ GUI –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ X11 (–¥–ª—è VPS –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt install -y xauth x11-apps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ X11 forwarding —Ä–∞–∑—Ä–µ—à–µ–Ω –≤ SSH
sudo nano /etc/ssh/sshd_config
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏ –æ–Ω–∏ –Ω–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:
```
X11Forwarding yes
X11DisplayOffset 10
X11UseLocalhost yes
```

–ï—Å–ª–∏ –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ SSH —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl restart ssh
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞:

**Windows:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ X-—Å–µ—Ä–≤–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä VcXsrv (https://sourceforge.net/projects/vcxsrv/) –∏–ª–∏ Xming (https://sourceforge.net/projects/xming/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ X-—Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ PuTTY:
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Connection ‚Üí SSH ‚Üí X11
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≥–∞–ª–æ—á–∫—É "Enable X11 forwarding"
   - –í –ø–æ–ª–µ "X display location" –æ—Å—Ç–∞–≤—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**Linux –∏–ª–∏ macOS:**
```bash
ssh -X username@your_server_ip
```

#### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ X11:

```bash
cd ~/Trancribe-multichannel-Cuda
source venv/bin/activate
python whisper_app.py
```

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (CLI)

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CLI-–≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –±–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```bash
python cli_transcribe.py --input <–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è_—Å_–∞—É–¥–∏–æ> --output <–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è_–¥–ª—è_—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤> [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ_–æ–ø—Ü–∏–∏]
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--input` –∏–ª–∏ `-i`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞–º–∏
- `--output` –∏–ª–∏ `-o`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `--model` –∏–ª–∏ `-m`: –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ Whisper (`tiny`, `small`, `medium`, `large-v3`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `small`)
- `--left-lang`: –Ø–∑—ã–∫ –¥–ª—è –ª–µ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞/–º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–†—É—Å—Å–∫–∏–π`)
- `--right-lang`: –Ø–∑—ã–∫ –¥–ª—è –ø—Ä–∞–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞/–∫–ª–∏–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–†—É—Å—Å–∫–∏–π`)

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ CLI:**

–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```bash
python cli_transcribe.py --input ~/test_audio --output ~/test_output
```

–ó–∞–ø—É—Å–∫ —Å –ª–µ–≥–∫–æ–π –º–æ–¥–µ–ª—å—é –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
python cli_transcribe.py --input ~/test_audio --output ~/test_output --model tiny
```

–ó–∞–ø—É—Å–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —è–∑—ã–∫–∞:
```bash
python cli_transcribe.py --input ~/test_audio --output ~/test_output --left-lang "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ" --right-lang "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–°–∫—Ä–∏–ø—Ç `watch_and_transcribe.py` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã, –ø–æ—è–≤–ª—è—é—â–∏–µ—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```bash
./watch_and_transcribe.py [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
- `--watch-dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/home/ubuntu/test_audio`)
- `--processed-dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/home/ubuntu/test_audio_complete`)
- `--output-dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/home/ubuntu/test_output`)
- `--interval`: –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `30`)
- `--model`: –†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ Whisper (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `small`)
- `--left-lang`: –Ø–∑—ã–∫ –ª–µ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–†—É—Å—Å–∫–∏–π`)
- `--right-lang`: –Ø–∑—ã–∫ –ø—Ä–∞–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–†—É—Å—Å–∫–∏–π`)

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

–ó–∞–ø—É—Å–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```bash
./watch_and_transcribe.py
```

–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```bash
./watch_and_transcribe.py --watch-dir /–ø—É—Ç—å/–∫/–∞—É–¥–∏–æ --processed-dir /–ø—É—Ç—å/–∫/–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º --output-dir /–ø—É—Ç—å/–∫/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º --interval 60 --model small --left-lang "–†—É—Å—Å–∫–∏–π" --right-lang "–†—É—Å—Å–∫–∏–π"
```

### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞ Linux:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/transcribe-monitor.service
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):
```
[Unit]
Description=Audio Transcription Monitor
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/Trancribe-multichannel-Cuda
ExecStart=/home/ubuntu/Trancribe-multichannel-Cuda/venv/bin/python /home/ubuntu/Trancribe-multichannel-Cuda/watch_and_transcribe.py
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl daemon-reload
sudo systemctl enable transcribe-monitor
sudo systemctl start transcribe-monitor
```

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞:
```bash
sudo systemctl status transcribe-monitor
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:
```bash
sudo journalctl -u transcribe-monitor -f
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥–ø–∞–ø–∫–∏:

- "–¢–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä" - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é –ª–µ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- "–¢–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç" - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é –ø—Ä–∞–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- "–° —Ç–∞–π–º–∫–æ–¥–∞–º–∏" - —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- "–ë–µ–∑ —Ç–∞–π–º–∫–æ–¥–æ–≤" - —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ –±–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
- "CSV transcribe" - —Å–æ–¥–µ—Ä–∂–∏—Ç CSV-—Ñ–∞–π–ª—ã —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–π, –≤–∫–ª—é—á–∞—è –æ–±—â–∏–π —Ñ–∞–π–ª all_transcriptions.csv

## –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Whisper

### –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ Whisper

Whisper –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä–æ–≤ –º–æ–¥–µ–ª–∏, –æ—Ç–ª–∏—á–∞—é—â–∏—Ö—Å—è –ø–æ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏:

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ VRAM | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å |
|--------|--------|-------------------|----------|----------|
| tiny | ~40MB | ~1GB | –ë–∞–∑–æ–≤–æ–µ | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ |
| small | ~500MB | ~2GB | –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–µ–µ | –°—Ä–µ–¥–Ω–µ |
| medium | ~1.5GB | ~5GB | –û—Ç–ª–∏—á–Ω–æ–µ | –ú–µ–¥–ª–µ–Ω–Ω–æ |
| large-v3 | ~3GB | ~10GB | –ù–∞–∏–ª—É—á—à–µ–µ | –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–ª–µ–≤—ã–π - –º–µ–Ω–µ–¥–∂–µ—Ä, –ø—Ä–∞–≤—ã–π - –∫–ª–∏–µ–Ω—Ç) –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

#### –Ø–∑—ã–∫
–í—ã–±–æ—Ä —è–∑—ã–∫–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: Whisper —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —è–∑—ã–∫
- –†—É—Å—Å–∫–∏–π: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–π —Ä–µ—á–∏
- –ö–∞–∑–∞—Ö—Å–∫–∏–π: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –∫–∞–∑–∞—Ö—Å–∫–æ–π —Ä–µ—á–∏
- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–µ—á–∏

#### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0-1)
–í–ª–∏—è–µ—Ç –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞:
- 0.0: –ù–∞–∏–±–æ–ª–µ–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–æ—á–Ω–µ–µ –¥–ª—è —á–µ—Ç–∫–æ–π —Ä–µ—á–∏)
- 0.2-0.4: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- >0.5: –ë–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–∏ –Ω–µ—á–µ—Ç–∫–æ–π —Ä–µ—á–∏)

#### Beam size (1-10)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—É—á–µ–π –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ª—É—á—à–µ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:
- 1: –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π (–∂–∞–¥–Ω—ã–π –ø–æ–∏—Å–∫)
- 5: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é)
- >5: –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ, –Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ

#### Patience (0.5-2.0)
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ—Ä–ø–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–∏—Å–∫–µ:
- 1.0: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- <1.0: –ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ
- >1.0: –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ

#### Best of (1, 3, 5, 7, 10)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—ç–º–ø–ª–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
- 1: –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π
- 5: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å)
- >5: –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

#### No speech threshold (0.1-1.0)
–ü–æ—Ä–æ–≥ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ä–µ—á–∏:
- 0.1-0.3: –ú–µ–Ω—å—à–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ —Ç–∏—Ö–æ–π —Ä–µ—á–∏, –Ω–æ –±–æ–ª—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- 0.6: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- >0.7: –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π, –Ω–æ –±–æ–ª—å—à–µ —Ä–∏—Å–∫ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–∏—Ö—É—é —Ä–µ—á–∏

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –î–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å —á–µ—Ç–∫–æ–π —Ä–µ—á—å—é (–∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä)
- –ú–æ–¥–µ–ª—å: large-v3 –∏–ª–∏ medium
- –Ø–∑—ã–∫: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —è–∑—ã–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 0.0-0.2
- Beam size: 5
- Patience: 1.0
- Best of: 5
- No speech threshold: 0.6

### –î–ª—è –∑–∞–ø–∏—Å–µ–π —Å —à—É–º–æ–º –∏–ª–∏ –Ω–µ—á–µ—Ç–∫–æ–π —Ä–µ—á—å—é
- –ú–æ–¥–µ–ª—å: large-v3
- –Ø–∑—ã–∫: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —è–∑—ã–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 0.3-0.5
- Beam size: 5-8
- Patience: 1.2-1.5
- Best of: 7-10
- No speech threshold: 0.4-0.5

### –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- –ú–æ–¥–µ–ª—å: small –∏–ª–∏ tiny
- –Ø–∑—ã–∫: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —è–∑—ã–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 0.0
- Beam size: 1-3
- Patience: 1.0
- Best of: 1-3
- No speech threshold: 0.6

### –î–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (1 CPU, 2GB RAM)
- –ú–æ–¥–µ–ª—å: tiny
- –Ø–∑—ã–∫: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —è–∑—ã–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 0.0
- Beam size: 1
- Patience: 1.0
- Best of: 1
- No speech threshold: 0.6

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏ Whisper

–ú–æ–¥–µ–ª–∏ Whisper —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫—ç—à–µ –ø–æ –ø—É—Ç–∏ `~/.cache/whisper/`. –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫–∞—á–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
ls -lah ~/.cache/whisper/

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
rm -f ~/.cache/whisper/medium.pt
rm -f ~/.cache/whisper/large-v3.pt

# –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª—å tiny
find ~/.cache/whisper/ -type f -not -name "tiny.pt" -delete
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ FFmpeg
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "Couldn't find ffmpeg or avconv", —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã FFmpeg (.exe –∏ .dll) —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PATH.

### CUDA –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "CUDA –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è CPU", –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ —É –≤–∞—Å —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ NVIDIA
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA –∏ CUDA Toolkit
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –≤–µ—Ä—Å–∏—è PyTorch —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –º–µ–Ω–µ–µ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (tiny –∏–ª–∏ small)
- –£–º–µ–Ω—å—à–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ beam_size –∏ best_of

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "No such file or directory: 'python'", —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ `watch_and_transcribe.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ Python:
```python
# –í–º–µ—Å—Ç–æ
cmd = ["python", ...]
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ
cmd = [sys.executable, ...]
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
watch -n 1 "free -h; echo; echo 'CPU Usage:'; top -bn1 | head -3"
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- OpenAI Whisper - –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –º–æ–¥–µ–ª—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- FFmpeg - –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- PyQt - –∑–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
